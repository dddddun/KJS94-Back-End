const express = require('express');
const bodyParser = require('body-parser');
const controllers = require('./controllers/index')


// Connect MongoDB
const db = require('./lib/mongoDB')

// Run MQTT Broker
const mqtt = require('./lib/mqtt')

// Run Express Server
const app = express();
const port = 4000;

app.use(bodyParser.urlencoded({ extended: true}));
app.use(bodyParser.json());

// 라우터 정보
app.use(controllers)
app.listen(port, () => console.log("Express Server Running!"));

// 테스트 데이터 추가
// const Visitors = require('./models/Visitor');
// const Mask = require('./models/Mask');
const Hum = require('./models/Humidity');

// Hum.insertMany([
//     { date: new Date("2020-11-01 09:11:20"), humidity: 46.1 },
//     { date: new Date("2020-11-01 10:11:20"), humidity: 45.1 },
//     { date: new Date("2020-11-01 11:11:20"), humidity: 43.1 },
//     { date: new Date("2020-11-01 12:11:20"), humidity: 42.1 },
//     { date: new Date("2020-11-01 13:11:20"), humidity: 51.1 },
//     { date: new Date("2020-11-02 09:11:20"), humidity: 56.6 },
//     { date: new Date("2020-11-02 10:11:20"), humidity: 55.5 },
//     { date: new Date("2020-11-02 11:11:20"), humidity: 53.3 },
//     { date: new Date("2020-11-02 12:11:20"), humidity: 32.9 },
//     { date: new Date("2020-11-02 13:11:20"), humidity: 31.5 },
//     { date: new Date("2020-11-03 09:11:20"), humidity: 39.6 },
//     { date: new Date("2020-11-03 10:11:20"), humidity: 49.5 },
//     { date: new Date("2020-11-03 11:11:20"), humidity: 49.3 },
//     { date: new Date("2020-11-03 12:11:20"), humidity: 49.9 },
//     { date: new Date("2020-11-03 13:11:20"), humidity: 49.5 },
//     { date: new Date("2020-11-04 09:11:20"), humidity: 56.2 },
//     { date: new Date("2020-11-04 10:11:20"), humidity: 55.2 },
//     { date: new Date("2020-11-04 11:11:20"), humidity: 53.2 },
//     { date: new Date("2020-11-04 12:11:20"), humidity: 52.5 },
//     { date: new Date("2020-11-04 13:11:20"), humidity: 41.5 },
//     { date: new Date("2020-11-05 09:11:20"), humidity: 47.6 },
//     { date: new Date("2020-11-05 10:11:20"), humidity: 57.5 },
//     { date: new Date("2020-11-05 11:11:20"), humidity: 57.3 },
//     { date: new Date("2020-11-05 12:11:20"), humidity: 47.9 },
//     { date: new Date("2020-11-05 13:11:20"), humidity: 37.5 },
//     { date: new Date("2020-11-06 09:11:20"), humidity: 36.1 },
//     { date: new Date("2020-11-06 10:11:20"), humidity: 35.1 },
//     { date: new Date("2020-11-06 11:11:20"), humidity: 33.1 },
//     { date: new Date("2020-11-06 12:11:20"), humidity: 42.1 },
//     { date: new Date("2020-11-06 13:11:20"), humidity: 41.1 },
//     { date: new Date("2020-11-07 09:11:20"), humidity: 43.6 },
//     { date: new Date("2020-11-07 10:11:20"), humidity: 43.5 },
//     { date: new Date("2020-11-07 11:11:20"), humidity: 51.3 },
//     { date: new Date("2020-11-07 12:11:20"), humidity: 52.9 },
//     { date: new Date("2020-11-07 13:11:20"), humidity: 51.5 },
//     { date: new Date("2020-11-08 09:11:20"), humidity: 59.6 },
//     { date: new Date("2020-11-08 10:11:20"), humidity: 69.5 },
//     { date: new Date("2020-11-08 11:11:20"), humidity: 59.3 },
//     { date: new Date("2020-11-08 12:11:20"), humidity: 49.9 },
//     { date: new Date("2020-11-08 13:11:20"), humidity: 49.5 },
//     { date: new Date("2020-11-09 09:11:20"), humidity: 46.2 },
//     { date: new Date("2020-11-09 10:11:20"), humidity: 45.2 },
//     { date: new Date("2020-11-09 11:11:20"), humidity: 43.2 },
//     { date: new Date("2020-11-09 12:11:20"), humidity: 52.5 },
//     { date: new Date("2020-11-09 13:11:20"), humidity: 51.5 },
//     { date: new Date("2020-11-10 09:11:20"), humidity: 57.6 },
//     { date: new Date("2020-11-10 10:11:20"), humidity: 57.5 },
//     { date: new Date("2020-11-10 11:11:20"), humidity: 47.3 },
//     { date: new Date("2020-11-10 12:11:20"), humidity: 47.9 },
//     { date: new Date("2020-11-10 13:11:20"), humidity: 47.5 },
//     { date: new Date("2020-11-11 09:11:20"), humidity: 46.1 },
//     { date: new Date("2020-11-11 10:11:20"), humidity: 45.1 },
//     { date: new Date("2020-11-11 11:11:20"), humidity: 43.1 },
//     { date: new Date("2020-11-11 12:11:20"), humidity: 42.1 },
//     { date: new Date("2020-11-12 09:11:20"), humidity: 46.6 },
//     { date: new Date("2020-11-12 10:11:20"), humidity: 56.5 },
//     { date: new Date("2020-11-12 11:11:20"), humidity: 56.3 },
//     { date: new Date("2020-11-12 12:11:20"), humidity: 54.9 },
//     { date: new Date("2020-11-12 13:11:20"), humidity: 55.5 },
//     { date: new Date("2020-11-13 09:11:20"), humidity: 38.1 },
//     { date: new Date("2020-11-13 10:11:20"), humidity: 38.1 },
//     { date: new Date("2020-11-13 11:11:20"), humidity: 38.1 },
//     { date: new Date("2020-11-13 12:11:20"), humidity: 38.1 },
//     { date: new Date("2020-11-13 13:11:20"), humidity: 38.1 },
//     { date: new Date("2020-11-14 09:11:20"), humidity: 47.6 },
//     { date: new Date("2020-11-14 10:11:20"), humidity: 42.5 },
//     { date: new Date("2020-11-14 11:11:20"), humidity: 47.3 },
//     { date: new Date("2020-11-14 12:11:20"), humidity: 47.9 },
//     { date: new Date("2020-11-14 13:11:20"), humidity: 47.5 },
//     { date: new Date("2020-11-15 09:11:20"), humidity: 56.8 },
//     { date: new Date("2020-11-15 10:11:20"), humidity: 55.8 },
//     { date: new Date("2020-11-15 11:11:20"), humidity: 53.8 },
//     { date: new Date("2020-11-15 12:11:20"), humidity: 52.8 },
//     { date: new Date("2020-11-16 09:11:20"), humidity: 56.6 },
//     { date: new Date("2020-11-16 10:11:20"), humidity: 36.5 },
//     { date: new Date("2020-11-16 11:11:20"), humidity: 36.3 },
//     { date: new Date("2020-11-16 12:11:20"), humidity: 34.9 },
//     { date: new Date("2020-11-16 13:11:20"), humidity: 35.5 },
//     { date: new Date("2020-11-17 09:11:20"), humidity: 36.6 },
//     { date: new Date("2020-11-17 10:11:20"), humidity: 36.5 },
//     { date: new Date("2020-11-17 11:11:20"), humidity: 36.3 },
//     { date: new Date("2020-11-17 12:11:20"), humidity: 36.9 },
//     { date: new Date("2020-11-17 13:11:20"), humidity: 36.5 },
//     { date: new Date("2020-11-18 09:11:20"), humidity: 34.6 },
//     { date: new Date("2020-11-18 10:11:20"), humidity: 44.7 },
//     { date: new Date("2020-11-18 11:11:20"), humidity: 44.8 },
//     { date: new Date("2020-11-18 12:11:20"), humidity: 44.9 },
//     { date: new Date("2020-11-18 13:11:20"), humidity: 64.1 },
// ]);

// Hum.insertMany([
//     { date: new Date("2020-10-01 09:11:20"), humidity: 36.1 },
//     { date: new Date("2020-10-01 10:11:20"), humidity: 35.1 },
//     { date: new Date("2020-10-01 11:11:20"), humidity: 33.1 },
//     { date: new Date("2020-10-01 12:11:20"), humidity: 32.1 },
//     { date: new Date("2020-10-01 13:11:20"), humidity: 31.1 },
//     { date: new Date("2020-10-02 09:11:20"), humidity: 36.6 },
//     { date: new Date("2020-10-02 10:11:20"), humidity: 35.5 },
//     { date: new Date("2020-10-02 11:11:20"), humidity: 33.3 },
//     { date: new Date("2020-10-02 12:11:20"), humidity: 32.9 },
//     { date: new Date("2020-10-02 13:11:20"), humidity: 31.5 },
//     { date: new Date("2020-10-03 09:11:20"), humidity: 39.6 },
//     { date: new Date("2020-10-03 10:11:20"), humidity: 39.5 },
//     { date: new Date("2020-10-03 11:11:20"), humidity: 39.3 },
//     { date: new Date("2020-10-03 12:11:20"), humidity: 49.9 },
//     { date: new Date("2020-10-03 13:11:20"), humidity: 49.5 },
//     { date: new Date("2020-10-04 09:11:20"), humidity: 46.2 },
//     { date: new Date("2020-10-04 10:11:20"), humidity: 45.2 },
//     { date: new Date("2020-10-04 11:11:20"), humidity: 43.2 },
//     { date: new Date("2020-10-04 12:11:20"), humidity: 42.5 },
//     { date: new Date("2020-10-04 13:11:20"), humidity: 41.5 },
//     { date: new Date("2020-10-05 09:11:20"), humidity: 47.6 },
//     { date: new Date("2020-10-05 10:11:20"), humidity: 47.5 },
//     { date: new Date("2020-10-05 11:11:20"), humidity: 57.3 },
//     { date: new Date("2020-10-05 12:11:20"), humidity: 57.9 },
//     { date: new Date("2020-10-05 13:11:20"), humidity: 57.5 },
//     { date: new Date("2020-10-06 09:11:20"), humidity: 56.1 },
//     { date: new Date("2020-10-06 10:11:20"), humidity: 55.1 },
//     { date: new Date("2020-10-06 11:11:20"), humidity: 53.1 },
//     { date: new Date("2020-10-06 12:11:20"), humidity: 32.1 },
//     { date: new Date("2020-10-06 13:11:20"), humidity: 31.1 },
//     { date: new Date("2020-10-07 09:11:20"), humidity: 36.6 },
//     { date: new Date("2020-10-07 10:11:20"), humidity: 35.5 },
//     { date: new Date("2020-10-07 11:11:20"), humidity: 33.3 },
//     { date: new Date("2020-10-07 12:11:20"), humidity: 32.9 },
//     { date: new Date("2020-10-07 13:11:20"), humidity: 41.5 },
//     { date: new Date("2020-10-08 09:11:20"), humidity: 49.6 },
//     { date: new Date("2020-10-08 10:11:20"), humidity: 49.5 },
//     { date: new Date("2020-10-08 11:11:20"), humidity: 49.3 },
//     { date: new Date("2020-10-08 12:11:20"), humidity: 49.9 },
//     { date: new Date("2020-10-08 13:11:20"), humidity: 49.5 },
//     { date: new Date("2020-10-09 09:11:20"), humidity: 46.2 },
//     { date: new Date("2020-10-09 10:11:20"), humidity: 45.2 },
//     { date: new Date("2020-10-09 11:11:20"), humidity: 43.2 },
//     { date: new Date("2020-10-09 12:11:20"), humidity: 42.5 },
//     { date: new Date("2020-10-09 13:11:20"), humidity: 41.5 },
//     { date: new Date("2020-10-10 09:11:20"), humidity: 47.6 },
//     { date: new Date("2020-10-10 10:11:20"), humidity: 47.5 },
//     { date: new Date("2020-10-10 11:11:20"), humidity: 47.3 },
//     { date: new Date("2020-10-10 12:11:20"), humidity: 47.9 },
//     { date: new Date("2020-10-10 13:11:20"), humidity: 47.5 },
//     { date: new Date("2020-10-11 09:11:20"), humidity: 46.1 },
//     { date: new Date("2020-10-11 10:11:20"), humidity: 45.1 },
//     { date: new Date("2020-10-11 11:11:20"), humidity: 33.1 },
//     { date: new Date("2020-10-11 12:11:20"), humidity: 32.1 },
//     { date: new Date("2020-10-12 09:11:20"), humidity: 316.6 },
//     { date: new Date("2020-10-12 10:11:20"), humidity: 36.5 },
//     { date: new Date("2020-10-12 11:11:20"), humidity: 36.3 },
//     { date: new Date("2020-10-12 12:11:20"), humidity: 34.9 },
//     { date: new Date("2020-10-12 13:11:20"), humidity: 45.5 },
//     { date: new Date("2020-10-13 09:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-13 10:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-13 11:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-13 12:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-13 13:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-14 09:11:20"), humidity: 47.6 },
//     { date: new Date("2020-10-14 10:11:20"), humidity: 47.5 },
//     { date: new Date("2020-10-14 11:11:20"), humidity: 47.3 },
//     { date: new Date("2020-10-14 12:11:20"), humidity: 47.9 },
//     { date: new Date("2020-10-14 13:11:20"), humidity: 47.5 },
//     { date: new Date("2020-10-15 09:11:20"), humidity: 46.8 },
//     { date: new Date("2020-10-15 10:11:20"), humidity: 35.8 },
//     { date: new Date("2020-10-15 11:11:20"), humidity: 33.8 },
//     { date: new Date("2020-10-15 12:11:20"), humidity: 32.8 },
//     { date: new Date("2020-10-16 09:11:20"), humidity: 36.6 },
//     { date: new Date("2020-10-16 10:11:20"), humidity: 36.5 },
//     { date: new Date("2020-10-16 11:11:20"), humidity: 36.3 },
//     { date: new Date("2020-10-16 12:11:20"), humidity: 34.9 },
//     { date: new Date("2020-10-16 13:11:20"), humidity: 35.5 },
//     { date: new Date("2020-10-17 09:11:20"), humidity: 36.6 },
//     { date: new Date("2020-10-17 10:11:20"), humidity: 36.5 },
//     { date: new Date("2020-10-17 11:11:20"), humidity: 46.3 },
//     { date: new Date("2020-10-17 12:11:20"), humidity: 46.9 },
//     { date: new Date("2020-10-17 13:11:20"), humidity: 46.5 },
//     { date: new Date("2020-10-18 09:11:20"), humidity: 44.6 },
//     { date: new Date("2020-10-18 10:11:20"), humidity: 44.7 },
//     { date: new Date("2020-10-18 11:11:20"), humidity: 54.8 },
//     { date: new Date("2020-10-18 12:11:20"), humidity: 54.9 },
//     { date: new Date("2020-10-18 13:11:20"), humidity: 54.1 },
//     { date: new Date("2020-10-19 09:11:20"), humidity: 56.1 },
//     { date: new Date("2020-10-19 10:11:20"), humidity: 55.1 },
//     { date: new Date("2020-10-19 11:11:20"), humidity: 33.1 },
//     { date: new Date("2020-10-19 12:11:20"), humidity: 32.1 },
//     { date: new Date("2020-10-19 09:11:20"), humidity: 36.6 },
//     { date: new Date("2020-10-20 10:11:20"), humidity: 36.5 },
//     { date: new Date("2020-10-20 11:11:20"), humidity: 36.3 },
//     { date: new Date("2020-10-20 12:11:20"), humidity: 34.9 },
//     { date: new Date("2020-10-20 13:11:20"), humidity: 55.5 },
//     { date: new Date("2020-10-20 09:11:20"), humidity: 58.1 },
//     { date: new Date("2020-10-20 10:11:20"), humidity: 58.1 },
//     { date: new Date("2020-10-21 11:11:20"), humidity: 58.1 },
//     { date: new Date("2020-10-21 12:11:20"), humidity: 58.1 },
//     { date: new Date("2020-10-21 13:11:20"), humidity: 58.1 },
//     { date: new Date("2020-10-21 09:11:20"), humidity: 57.6 },
//     { date: new Date("2020-10-21 10:11:20"), humidity: 57.5 },
//     { date: new Date("2020-10-22 10:11:20"), humidity: 46.5 },
//     { date: new Date("2020-10-22 11:11:20"), humidity: 46.3 },
//     { date: new Date("2020-10-22 12:11:20"), humidity: 44.9 },
//     { date: new Date("2020-10-22 13:11:20"), humidity: 45.5 },
//     { date: new Date("2020-10-22 09:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-22 10:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-23 11:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-23 12:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-23 13:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-23 09:11:20"), humidity: 44.6 },
//     { date: new Date("2020-10-23 10:11:20"), humidity: 47.5 },
//     { date: new Date("2020-10-24 10:11:20"), humidity: 46.5 },
//     { date: new Date("2020-10-24 11:11:20"), humidity: 46.3 },
//     { date: new Date("2020-10-24 12:11:20"), humidity: 44.9 },
//     { date: new Date("2020-10-24 13:11:20"), humidity: 45.5 },
//     { date: new Date("2020-10-24 09:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-25 10:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-25 11:11:20"), humidity: 48.9 },
//     { date: new Date("2020-10-25 12:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-25 13:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-25 09:11:20"), humidity: 47.6 },
//     { date: new Date("2020-10-25 10:11:20"), humidity: 47.5 },
//     { date: new Date("2020-10-26 10:11:20"), humidity: 46.5 },
//     { date: new Date("2020-10-26 11:11:20"), humidity: 46.3 },
//     { date: new Date("2020-10-26 12:11:20"), humidity: 44.9 },
//     { date: new Date("2020-10-26 13:11:20"), humidity: 45.5 },
//     { date: new Date("2020-10-26 09:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-26 10:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-27 11:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-27 12:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-27 13:11:20"), humidity: 38.1 },
//     { date: new Date("2020-10-27 09:11:20"), humidity: 33.6 },
//     { date: new Date("2020-10-27 10:11:20"), humidity: 34.5 },
//     { date: new Date("2020-10-28 09:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-28 10:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-28 11:11:20"), humidity: 38.1 },
//     { date: new Date("2020-10-28 12:11:20"), humidity: 38.1 },
//     { date: new Date("2020-10-28 13:11:20"), humidity: 38.1 },
//     { date: new Date("2020-10-29 09:11:20"), humidity: 37.6 },
//     { date: new Date("2020-10-29 10:11:20"), humidity: 37.5 },
//     { date: new Date("2020-10-29 11:11:20"), humidity: 36.3 },
//     { date: new Date("2020-10-29 12:11:20"), humidity: 34.9 },
//     { date: new Date("2020-10-29 13:11:20"), humidity: 35.5 },
//     { date: new Date("2020-10-30 09:11:20"), humidity: 38.1 },
//     { date: new Date("2020-10-30 10:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-30 11:11:20"), humidity: 48.9 },
//     { date: new Date("2020-10-30 12:11:20"), humidity: 48.1 },
//     { date: new Date("2020-10-30 13:11:20"), humidity: 58.1 },
//     { date: new Date("2020-10-31 09:11:20"), humidity: 38.1 },
//     { date: new Date("2020-10-31 10:11:20"), humidity: 58.1 },
//     { date: new Date("2020-10-31 11:11:20"), humidity: 58.9 },
//     { date: new Date("2020-10-31 12:11:20"), humidity: 44.1 },
//     { date: new Date("2020-10-31 13:11:20"), humidity: 53.1 },
// ])